<!DOCTYPE html>
<html lang="hu" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Háború számító leírás - Hódító</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        function updateThemeIcons(theme) {
            const lightIcon = document.getElementById('theme-icon-light');
            const darkIcon = document.getElementById('theme-icon-dark');
            if (lightIcon && darkIcon) {
                if (theme === 'dark') {
                    lightIcon.style.display = 'none';
                    darkIcon.style.display = 'block';
                } else {
                    lightIcon.style.display = 'block';
                    darkIcon.style.display = 'none';
                }
            }
        }

        (function() {
            const storedTheme = localStorage.getItem('hodito-theme') || 'light';
            document.documentElement.setAttribute('data-theme', storedTheme);
        })();

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('hodito-theme', newTheme);
            updateThemeIcons(newTheme);
            window.dispatchEvent(new CustomEvent('themechange', { detail: newTheme }));
            window.dispatchEvent(new StorageEvent('storage', { key: 'hodito-theme', newValue: newTheme, oldValue: currentTheme }));
        }

        document.addEventListener('DOMContentLoaded', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            updateThemeIcons(currentTheme);
        });

        window.addEventListener('storage', (e) => {
            if (e.key === 'hodito-theme' && e.newValue) {
                document.documentElement.setAttribute('data-theme', e.newValue);
                updateThemeIcons(e.newValue);
            }
        });

        window.addEventListener('themechange', (e) => {
            if (e.detail && (e.detail === 'light' || e.detail === 'dark')) {
                document.documentElement.setAttribute('data-theme', e.detail);
                updateThemeIcons(e.detail);
            }
        });
    </script>
</head>
<body class="min-h-screen bg-base-200">
    <div class="container mx-auto px-4 py-6 max-w-6xl">
        <header class="mb-6 flex items-center justify-between flex-wrap gap-4">
            <div>
                <h1 class="text-3xl md:text-4xl font-bold text-base-content mb-2">Háború számító</h1>
                <p class="text-base-content/70">A csata előtti gyors kalkulációkhoz</p>
            </div>
            <div class="flex flex-wrap gap-2">
                <button onclick="toggleTheme()" class="btn btn-ghost btn-sm gap-2" title="Sötét/Világos mód váltása">
                    <svg id="theme-icon-light" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
                    </svg>
                    <svg id="theme-icon-dark" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4" style="display:none;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364 6.364l-1.577 1.577M21 12h-2.25m-4.773 4.773l-1.577-1.577M12 18.75V21m-4.773-4.773l-1.577 1.577M3 12h2.25m4.773-4.773L9.18 8.18M12 5.25V3" />
                    </svg>
                </button>
                <a href="../war.html" class="btn btn-primary btn-sm gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
                    </svg>
                    Vissza a kalkulátorhoz
                </a>
                <a href="../index.html" class="btn btn-outline btn-sm gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                    </svg>
                    Épületlista
                </a>
            </div>
        </header>

        <main class="space-y-6">
            <section class="card bg-base-100 shadow-xl">
                <div class="card-body space-y-3 text-sm">
                    <h2 class="card-title text-2xl">1. Összefoglaló</h2>
                    <div class="divider"></div>
                    <p class="text-base-content/70">A háború kalkulátor minden <em>Feldolgozás</em> gombnyomáskor ugyanazt a sorrendet követi, mint a játék dokumentációja:</p>
                    <ol class="list-decimal pl-6 space-y-2 text-base-content">
                        <li><strong>Kristálygömb feldolgozás</strong> – a teljes jelentésből kiolvassa az egységeket, morált, fajt és személyiségeket.</li>
                        <li><strong>Épületlista feldolgozás</strong> – hektár, őrtorony, barakk, stb. Ha csak épületlista van, a hektár 10%-a automatikusan őrtorony lesz.</li>
                        <li><strong>Hiányzó adatok pótlása</strong> – barakk × 40 × lakáshelyzet alapján kiszámítja a maximális íjász/lovas férőhelyet, és kristálygömb hiányában kitölti a mezőket.</li>
                        <li><strong>Tekercsek frissítése</strong> – faj + Tudós + Tudomány hónapja alapján kiszámítja a hadi/lakáshelyzet maximumot (max 55%) és beírja a mezőkbe.</li>
                        <li><strong>WarCalculator</strong> – meghatározza a védő/támadóerőt, gabonaszükségletet és az eredményt.</li>
                    </ol>
                    <p class="text-base-content/70">Ha csak az egyik adatforrás áll rendelkezésre, a kalkulátor az ismert képletek szerint pótolja a hiányzó értékeket (hektár → őrtorony, barakk → egység férőhely).</p>
                </div>
            </section>

            <section class="card bg-base-100 shadow-xl">
                <div class="card-body space-y-4 text-sm">
                    <h2 class="card-title text-2xl">2. Importálás és automatikák</h2>
                    <div class="divider"></div>
                    <div>
                        <h3 class="text-lg font-semibold text-base-content mb-2">Kristálygömb</h3>
                        <ul class="list-disc pl-6 space-y-1 text-base-content">
                            <li>Minden egységmezőt, morált, faj- és személyiség beállítást kitölt.</li>
                            <li>Ha épületlista is van, csak az őrtornyok számát vesszük át, hogy a kristálygömbben lévő seregadatok érintetlenek maradjanak.</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-base-content mb-2">Épületlista</h3>
                        <ul class="list-disc pl-6 space-y-1 text-base-content">
                            <li>Mindkét oldalon kiolvassa a hektár- és barakkszámot.</li>
                            <li>Kristálygömb hiányában a barakk × 40 × lakáshelyzeti szorzó alapján automatikusan kitölti a védő íjász és támadó lovas mezőket.</li>
                            <li>Ha nincs őrtorony adat, a hektár 10%-a lesz az alapértelmezett.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="card bg-base-100 shadow-xl">
                <div class="card-body space-y-4 text-sm">
                    <h2 class="card-title text-2xl">3. Alapbeállítások és kapcsolók</h2>
                    <div class="divider"></div>
                    <div>
                        <h3 class="text-lg font-semibold text-base-content mb-2">Buffok</h3>
                        <ul class="list-disc pl-6 space-y-1 text-base-content">
                            <li><strong>Védelem varázslat</strong> – alapból aktív.</li>
                            <li><strong>Vérszomj</strong> – támadóknál alapból aktív.</li>
                            <li><strong>Tudomány hónapja</strong> – a két oszlop között össze van kötve; bármelyik kapcsolása mindkét oldalt érinti.</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-base-content mb-2">Tekercs maximumok</h3>
                        <ul class="list-disc pl-6 space-y-1 text-base-content">
                            <li><strong>Hadi tekercs</strong>: alap 30%, Gnóm 50%, Elf/Ork/Törpe 40%; Tudós +5%, Tudomány hónapja +5%, max 55%.</li>
                            <li><strong>Lakáshelyzet</strong>: alap 30%, Gnóm 50%, Óriás/Félelf 40%; Tudomány hónapja +5%, max 55%.</li>
                            <li>Kapcsoláskor mindig a fenti plafon íródik a mezőbe.</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-base-content mb-2">Tábornokok</h3>
                        <ul class="list-disc pl-6 space-y-1 text-base-content">
                            <li><strong>Faji max</strong>: Gnóm 4, Ork 6, minden más 5.</li>
                            <li><strong>Tábornok személyiség</strong>: +1 tábornok (legfeljebb 8). Kikapcsoláskor visszaáll a faji plafonra.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="card bg-base-100 shadow-xl">
                <div class="card-body space-y-4 text-sm">
                    <h2 class="card-title text-2xl">4. Számítási sorrend</h2>
                    <div class="divider"></div>
                    <div>
                        <h3 class="text-lg font-semibold text-base-content mb-2">Védőerő</h3>
                        <ol class="list-decimal pl-6 space-y-1 text-base-content">
                            <li><strong>Saját sereg</strong>: egységértékek + toronyba kerülő íjászok (40 íjász/torony × lakáshelyzet × faji bónusz).</li>
                            <li><strong>Szövetséges íjászok hozzáadása.</strong></li>
                            <li><strong>Minimum védelem</strong>: ha kisebb, mint a hektár, a hektár számít.</li>
                            <li><strong>Multiplikátorok</strong>: ork kitámadás → morál → védelem varázslat → magányos farkas → torony területarányos bónusz (max 30%, Gnóm ×3, más ×2) → hadi tekercs → faji bónusz → élőhalott szint → szabadságon lévő szövetségesek.</li>
                        </ol>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-base-content mb-2">Támadóerő</h3>
                        <ol class="list-decimal pl-6 space-y-1 text-base-content">
                            <li><strong>Seregösszetétel</strong> – alap egységértékek.</li>
                            <li><strong>Faji bónusz + katonai morál.</strong></li>
                            <li><strong>Magányos farkas + Vérszomj.</strong></li>
                            <li><strong>Tábornok bónusz</strong> – a faj és személyiség által meghatározott maxig állítható.</li>
                            <li><strong>Élőhalott szint, hadi tekercs, irány bónusz</strong> (felfelé támadás +10%).</li>
                        </ol>
                        <p class="text-base-content/70 mt-2">A gabonaszükséglet csak a támadókra vonatkozik; védőknél nincs fogyasztás.</p>
                    </div>
                </div>
            </section>

            <section class="card bg-base-100 shadow-xl">
                <div class="card-body space-y-3 text-sm">
                    <h2 class="card-title text-2xl">5. Tippek</h2>
                    <div class="divider"></div>
                    <ul class="list-disc pl-6 space-y-2 text-base-content">
                        <li><strong>Mindkét adatforrást használd.</strong> A kristálygömb és az épületlista együtt ad teljes képet.</li>
                        <li><strong>A Tudomány hónapja globális.</strong> Ha az egyik oszlopban váltasz, a másik is átáll.</li>
                        <li><strong>Törlés után mindig újra feldolgozás.</strong> A textarea tartalma megmarad, de a mezők alaphelyzetbe kerülnek.</li>
                        <li><strong>Őrtornyokban lévő íjászok.</strong> 40 íjász/torony alap, amit a lakáshelyzeti tekercs és a faji bónusz módosít. Csak a saját íjászok vonulnak toronyba.</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>
</body>
</html>

